<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Servidor Web con ESP32 - ESPLab</title>
  <link rel="stylesheet" href="../../css/style.css" />
</head>
<body>
  <nav>
    <div class="logo">⚡ ESPLab</div>
    <ul>
      <li><a href="../../index.html#esp32">Volver</a></li>
    </ul>
  </nav>

  <header>
    <h1>Servidor Web con ESP32</h1>
    <p>Enciende y apaga un LED desde tu navegador.</p>
  </header>

  <section>
    <h2>Materiales</h2>
    <ul>
      <li>1 ESP32</li>
      <li>1 LED</li>
      <li>1 Resistencia de 220Ω</li>
    </ul>

    <h2>Conexiones</h2>
    <p>LED en GPIO 5 con resistencia a GND.</p>

    <h2>Código</h2>
    <pre><code>
#include <WiFi.h>
const char* ssid = "TU_SSID";
const char* password = "TU_PASS";

WiFiServer server(80);
int ledPin = 5;

void setup() {
  Serial.begin(115200);
  pinMode(ledPin, OUTPUT);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) delay(1000);
  server.begin();
  Serial.println(WiFi.localIP());
}

void loop() {
  WiFiClient client = server.available();
  if (client) {
    String request = client.readStringUntil('\r');
    client.flush();

    if (request.indexOf("/ON") != -1) digitalWrite(ledPin, HIGH);
    if (request.indexOf("/OFF") != -1) digitalWrite(ledPin, LOW);

    client.print("HTTP/1.1 200 OK\r\nContent-Type: text/html\r\n\r\n");
    client.print("<a href=\"/ON\">Encender LED</a><br><a href=\"/OFF\">Apagar LED</a>");
    client.stop();
  }
}
    </code></pre>
  </section>

  <footer>
    <p>© 2025 ESPLab</p>
  </footer>
</body>
</html>
